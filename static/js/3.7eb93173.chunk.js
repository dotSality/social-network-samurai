(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[3],{100:function(t,e,s){"use strict";s.r(e),s.d(e,"ProfileContainer",(function(){return z}));var r=s(2),a=s(25),i=s(26),c=s(30),n=s(29),o=s(0),u=s.n(o),l=s(95),j=s.n(l),p=s(96),d=s.n(p),b=s(31),h=s(22),f=s(1),x=function(t){var e=Object(o.useState)(!1),s=Object(h.a)(e,2),r=s[0],a=s[1],i=Object(o.useState)(t.status),c=Object(h.a)(i,2),n=c[0],u=c[1];Object(o.useEffect)((function(){u(t.status)}),[t.status]);return Object(f.jsx)("div",{children:r?Object(f.jsx)("div",{children:Object(f.jsx)("input",{onChange:function(t){u(t.currentTarget.value)},autoFocus:!0,onBlur:function(){a(!1),t.updateUserStatus(n)},value:n})}):Object(f.jsx)("div",{children:Object(f.jsx)("span",{onClick:function(){return a(!0)},children:n||"no status"})})})},O=function(t){return t.profile?Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{className:d.a.img,src:"https://c4.wallpaperflare.com/wallpaper/784/819/740/ultra-wide-photography-beach-wallpaper-preview.jpg",alt:"avatar"}),Object(f.jsx)("div",{children:Object(f.jsx)(x,{updateUserStatus:t.updateUserStatus,status:t.status})})]}),Object(f.jsx)("div",{className:d.a.descriptionBlock,children:t.profile.photos.large&&Object(f.jsx)("img",{src:t.profile.photos.large,alt:"profile owner"})})]}):Object(f.jsx)(b.a,{})},m=s(40),v=s(97),g=s.n(v),_=s(98),k=s.n(_),P=function(t){return Object(f.jsxs)("div",{className:k.a.item,children:[Object(f.jsx)("img",{src:"https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png",alt:"avatar"}),t.post,Object(f.jsx)("div",{children:Object(f.jsxs)("div",{children:["likes:",t.likesCount,Object(f.jsx)("button",{children:"like"}),Object(f.jsx)("button",{children:"x"})]})})]})},S=s(41),U=s(33),y=s(17),C=s.n(y),w=function(t){var e=Object(S.a)({defaultValues:{text:""}}),s=e.register,a=e.handleSubmit,i=e.formState.errors,c=e.reset,n=i.text?"".concat(C.a.textArea," ").concat(C.a.error):C.a.textArea;return Object(f.jsxs)("form",{onSubmit:a((function(e){t.onSubmit(e.text),c()})),children:[Object(f.jsx)("textarea",Object(r.a)({className:n,placeholder:"Write something..."},s("text",U.d))),Object(f.jsx)("div",{className:C.a.textBlock,children:i.text&&i.text.message}),Object(f.jsx)("input",{value:"Publish post",type:"submit"})]})},N=function(t){var e=t.posts.map((function(t){return Object(f.jsx)(P,{id:t.id,post:t.post,likesCount:t.likesCount},t.id)}));return Object(f.jsxs)("div",{className:g.a.postsBlock,children:[Object(f.jsx)("h3",{children:"My posts"}),Object(f.jsx)("div",{children:Object(f.jsx)("div",{children:Object(f.jsx)(w,{onSubmit:function(e){return t.addPost(e)}})})}),Object(f.jsx)("div",{className:g.a.posts,children:e})]})},B=s(15),I=Object(B.b)((function(t){return{posts:t.profilePage.posts}}),{addPost:m.a})(N),A=function(t){return Object(f.jsxs)("div",{className:j.a.mainCont,children:[Object(f.jsx)(O,{status:t.status,updateUserStatus:t.updateUserStatus,profile:t.profile}),Object(f.jsx)(I,{})]})},M=s(6),J=s(19),z=function(t){Object(c.a)(s,t);var e=Object(n.a)(s);function s(){return Object(a.a)(this,s),e.apply(this,arguments)}return Object(i.a)(s,[{key:"componentDidMount",value:function(){var t=+this.props.match.params.usedId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.loadUserProfile(t),this.props.getUserStatus(t)}},{key:"render",value:function(){return Object(f.jsx)(A,Object(r.a)({},this.props))}}]),s}(u.a.Component);e.default=Object(J.c)(Object(B.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{loadUserProfile:m.c,getUserStatus:m.b,updateUserStatus:m.e}),M.f)(z)},95:function(t,e,s){t.exports={mainCont:"Profile_mainCont__1G-aY"}},96:function(t,e,s){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__320fJ",img:"ProfileInfo_img__3mcCO"}},97:function(t,e,s){t.exports={postsBlock:"MyPosts_postsBlock__3Nv5y",posts:"MyPosts_posts__txcdb"}},98:function(t,e,s){t.exports={item:"Post_item__2_N5q"}}}]);
//# sourceMappingURL=3.7eb93173.chunk.js.map