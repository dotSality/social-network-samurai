{"version":3,"file":"static/js/801.fcab5ce4.chunk.js","mappings":"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","sources":["webpack://social-network/./src/Components/Users/Users.module.scss?5c93","Components/Users/Pagination.tsx","Components/Users/User.tsx","bll/selectors.ts","Components/Users/Users.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"userPhoto\":\"Users_userPhoto__J8wQB\",\"selected\":\"Users_selected__2Fjce\",\"main\":\"Users_main__uxlUU\",\"content\":\"Users_content__YHldH\",\"disable\":\"Users_disable__Tg7Ue\"};","import s from './Users.module.scss';\r\nimport React from 'react';\r\nimport {useAppSelector} from '../../bll/hooks';\r\n\r\ntype PropsType = {\r\n    onPageChanged: (i: number, pageSize: number) => void,\r\n    currentPage: number,\r\n    totalUsersCount: number,\r\n    pageSize: number,\r\n}\r\n\r\n\r\nexport const Pagination = ({currentPage, onPageChanged, totalUsersCount, pageSize}: PropsType) => {\r\n\r\n    const {status} = useAppSelector(state => state.app)\r\n    const pages = []\r\n    const prevTwoPages = () => onPageChanged(currentPage - 2, pageSize)\r\n    const nextTwoPages = () => onPageChanged(currentPage + 2, pageSize)\r\n    const onFirstPageChange = () => onPageChanged(1, pageSize)\r\n    const onLastPageChange = () => onPageChanged(pagesCount, pageSize)\r\n\r\n    const pagesCount = Math.ceil(totalUsersCount / pageSize)\r\n\r\n    const divClassName = status === 'loading' ? s.disable : ''\r\n\r\n    if (currentPage <= 4) {\r\n        for (let i = 1; i <= 5; i++) {\r\n            pages.push(i)\r\n        }\r\n        return <div className={divClassName}>\r\n            {pages.map(i => <button key={i} onClick={() => onPageChanged(i, pageSize)}\r\n                className={currentPage === i ? s.selected : ''}>{i}</button>)\r\n            }\r\n            <button onClick={nextTwoPages}>»</button>\r\n            <button onClick={onLastPageChange}>...</button>\r\n        </div>\r\n    } else if (currentPage >= 4 && currentPage <= pagesCount - 4) {\r\n        for (let i = currentPage - 1; i <= currentPage + 1; i++) {\r\n            pages.push(i)\r\n        }\r\n        return <div className={divClassName}>\r\n            <button onClick={onFirstPageChange}>{1}</button>\r\n            <button onClick={prevTwoPages}>«</button>\r\n            {pages.map(i => <button key={i} onClick={() => onPageChanged(i, pageSize)}\r\n                className={currentPage === i ? s.selected : ''}>{i}</button>)\r\n            }\r\n            <button onClick={nextTwoPages}>»</button>\r\n            <button onClick={onLastPageChange}>...</button>\r\n        </div>\r\n    } else {\r\n        for (let i = pagesCount - 4; i <= pagesCount; i++) {\r\n            pages.push(i)\r\n        }\r\n        return <div className={divClassName}>\r\n            <button onClick={onFirstPageChange}>{1}</button>\r\n            <button onClick={prevTwoPages}>«</button>\r\n            {pages.map(i => <button key={i} onClick={() => onPageChanged(i, pageSize)}\r\n                className={currentPage === i ? s.selected : ''}>{i}</button>)\r\n            }\r\n        </div>\r\n    }\r\n}","import {NavLink} from 'react-router-dom';\r\nimport userPhoto from '../../common/Img/default-user.jpg';\r\nimport s from './Users.module.scss';\r\nimport React from 'react';\r\nimport {toggleFollow, UserType} from '../../bll/users-reducer';\r\nimport {useAppDispatch, useAppSelector} from '../../bll/hooks';\r\n\r\n\r\ntype UserPropsType = {\r\n    u: UserType\r\n}\r\n\r\nexport const User = ({u}: UserPropsType) => {\r\n\r\n    const dispatch = useAppDispatch()\r\n    const {isFollowing} = useAppSelector(state => state.usersPage)\r\n    const toggleFollowHandler = () => dispatch(toggleFollow({userID: u.id, isFollowed: u.followed}))\r\n\r\n    return (\r\n        <div>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={'/profile/' + u.id}>\r\n                        <img src={u.photos.small ? u.photos.small : userPhoto} className={s.userPhoto} alt={'user face'}/>\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    <button disabled={isFollowing.some(id => id === u.id)}\r\n                        onClick={toggleFollowHandler}>{!u.followed ? 'Follow' : 'Unfollow'}</button>\r\n                </div>\r\n            </span>\r\n            <span>\r\n                <span>\r\n                    <div>{u.name}</div>\r\n                    <div>{u.status}</div>\r\n                </span>\r\n            </span>\r\n        </div>\r\n    )\r\n}","import {RootStateType} from './store';\r\n\r\nexport const usersData = (state: RootStateType) => state.usersPage\r\n\r\n","import React, {memo, useEffect} from 'react';\r\nimport {clearUsersData, requestUsers, setCurrentPage} from '../../bll/users-reducer';\r\nimport {Pagination} from './Pagination';\r\nimport {User} from './User';\r\nimport {useAppDispatch, useAppSelector} from '../../bll/hooks';\r\nimport {usersData} from '../../bll/selectors';\r\nimport {WithAuthRedirect} from '../../HOC/WithAuthRedirect';\r\nimport {InnerPreloader} from '../InnerPreloader/InnerPreloader';\r\nimport s from './Users.module.scss';\r\n\r\nexport default WithAuthRedirect(memo(() => {\r\n    const {totalUsersCount, pageSize, currentPage, users, isFetching} = useAppSelector(usersData)\r\n\r\n    const dispatch = useAppDispatch()\r\n    useEffect(() => {\r\n        dispatch(requestUsers({currentPage, pageSize}))\r\n        return () => {\r\n            dispatch(clearUsersData())\r\n        }\r\n    }, [])\r\n\r\n    const onPageChanged = (currentPage: number, pageSize: number) => {\r\n        dispatch(setCurrentPage(currentPage));\r\n        dispatch(requestUsers({currentPage, pageSize}));\r\n    }\r\n\r\n    return <div className={s.main}>\r\n        {!!totalUsersCount && <Pagination\r\n            pageSize={pageSize}\r\n            currentPage={currentPage}\r\n            totalUsersCount={totalUsersCount}\r\n            onPageChanged={onPageChanged}\r\n        />}\r\n        <div className={s.content}>\r\n            {isFetching\r\n                ? <InnerPreloader/>\r\n                : users.map(u => <User key={u.id} u={u}/>)}\r\n        </div>\r\n    </div>\r\n}))\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["Pagination","currentPage","onPageChanged","totalUsersCount","pageSize","status","useAppSelector","state","app","pages","prevTwoPages","nextTwoPages","onFirstPageChange","onLastPageChange","pagesCount","Math","ceil","divClassName","s","i","push","className","map","onClick","User","u","dispatch","useAppDispatch","isFollowing","usersPage","to","id","src","photos","small","userPhoto","alt","disabled","some","toggleFollow","userID","isFollowed","followed","name","usersData","WithAuthRedirect","memo","users","isFetching","useEffect","requestUsers","clearUsersData","setCurrentPage","InnerPreloader"],"sourceRoot":""}