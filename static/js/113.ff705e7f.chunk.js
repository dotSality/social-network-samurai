"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[113],{9113:function(e,n,t){t.r(n),t.d(n,{default:function(){return H}});var s=t(2791),r=t(5983),c={selected:"Pagination_selected__MoPne"},i=t(1402),o=t(184),l=function(e){var n=e.currentPage,t=e.onPageChanged,s=e.totalUsersCount,r=e.pageSize,l=(0,i.C)((function(e){return e.app})).status,a=[],u=function(){return t(n-2,r)},d=function(){return t(n+2,r)},f=function(){return t(1,r)},_=function(){return t(h,r)},h=Math.ceil(s/r),m="loading"===l?c.disable:"";if(n<=4){for(var x=1;x<=5;x++)a.push(x);return(0,o.jsxs)("div",{className:m,children:[a.map((function(e){return(0,o.jsx)("button",{onClick:function(){return t(e,r)},className:n===e?c.selected:"",children:e},e)})),(0,o.jsx)("button",{onClick:d,children:"\xbb"}),(0,o.jsx)("button",{onClick:_,children:"..."})]})}if(n>=4&&n<=h-4){for(var v=n-1;v<=n+1;v++)a.push(v);return(0,o.jsxs)("div",{className:m,children:[(0,o.jsx)("button",{onClick:f,children:1}),(0,o.jsx)("button",{onClick:u,children:"\xab"}),a.map((function(e){return(0,o.jsx)("button",{onClick:function(){return t(e,r)},className:n===e?c.selected:"",children:e},e)})),(0,o.jsx)("button",{onClick:d,children:"\xbb"}),(0,o.jsx)("button",{onClick:_,children:"..."})]})}for(var j=h-4;j<=h;j++)a.push(j);return(0,o.jsxs)("div",{className:m,children:[(0,o.jsx)("button",{onClick:f,children:1}),(0,o.jsx)("button",{onClick:u,children:"\xab"}),a.map((function(e){return(0,o.jsx)("button",{onClick:function(){return t(e,r)},className:n===e?c.selected:"",children:e},e)}))]})},a=function(e){return e.usersPage},u=t(7929),d="Users_main__uxlUU",f="Users_scrolled__i5gbn",_="Users_filterBlock__bwhVH",h="Users_info__EUdnN",m=t(3669),x="UsersList_content__-KxwY",v="UsersList_scrolled__yNRM9",j=t(3237),p=t(3504),C=t(758),g="UserItem_itemContainer__bh8wb",k="UserItem_data__lPIXe",w="UserItem_name__M+2Pf",b="UserItem_status__weLQ1",N="UserItem_link__WHT8A",S="UserItem_userPhoto__Atd6v",U=function(e){var n=e.u,t=(0,i.T)(),s=(0,i.C)((function(e){return e.usersPage})).isFollowing;return(0,o.jsxs)("div",{className:g,children:[(0,o.jsx)(p.OL,{className:N,to:"/profile/"+n.id,children:(0,o.jsx)("div",{children:(0,o.jsx)("img",{src:n.photos.small?n.photos.small:C,className:S,alt:"user face"})})}),(0,o.jsxs)("div",{className:k,children:[(0,o.jsx)("span",{className:w,children:(0,o.jsx)(p.OL,{className:N,to:"/profile/"+n.id,children:n.name})}),n.status&&(0,o.jsx)("span",{className:b,children:n.status})]}),(0,o.jsx)("div",{children:(0,o.jsx)("button",{disabled:s.some((function(e){return e===n.id})),onClick:function(){return t((0,r.Gm)({userID:n.id,isFollowed:n.followed}))},children:n.followed?"Unfollow":"Follow"})})]})},P=(0,s.memo)((function(e){var n=e.isScrolled,t=(0,i.C)(a),s=t.users,r=t.isFetching,c="".concat(x," ").concat(n&&v);return(0,o.jsx)("div",{className:c,children:r?(0,o.jsx)(j.b,{}):s.map((function(e){return(0,o.jsx)(U,{u:e},e.id)}))})})),E=t(885),I="SortSelect_select__ywH9J",L="SortSelect_active__IJEJZ",z="SortSelect_options__rArjz",Z="Option_item__KOgtH",y=function(e){var n=e.value,t=e.setCount,s=(0,i.T)(),c=(0,i.C)((function(e){return e.usersPage.fetchData}));return(0,o.jsx)("div",{onClick:function(){t(n),s((0,r.uh)({currentPage:c.page,pageSize:n}))},className:Z,children:n})},A=[3,5,7,10,20],F=(0,s.memo)((function(){var e=(0,i.C)((function(e){return e.usersPage.pageSize})),n=(0,s.useState)(e),t=(0,E.Z)(n,2),r=t[0],c=t[1],l=(0,s.useState)(!1),a=(0,E.Z)(l,2),u=a[0],d=a[1],f=function(){u&&d(!1)};(0,s.useEffect)((function(){return u&&window.addEventListener("click",f),function(){window.removeEventListener("click",f)}}),[u]);var _="".concat(I," ").concat(u&&L);return(0,o.jsxs)("div",{className:_,onClick:function(){return d(!0)},children:[r,u&&(0,o.jsx)("div",{className:z,children:A.map((function(e){return(0,o.jsx)(y,{value:e,setCount:c},e)}))})]})}));var H=(0,u.e)((0,s.memo)((function(){var e=(0,i.C)(a),n=e.totalUsersCount,t=e.pageSize,c=e.currentPage,u=(0,i.T)();(0,s.useEffect)((function(){return u((0,r.uh)({currentPage:c,pageSize:t})),function(){u((0,r.Zx)())}}),[]);var x=function(e){var n=(0,s.useRef)(null),t=(0,s.useState)(!1),r=(0,E.Z)(t,2),c=r[0],i=r[1],o=(0,s.useCallback)((function(){var t;(null===(t=n.current)||void 0===t?void 0:t.getBoundingClientRect()).y<e?i(!0):i(!1)}),[]);return(0,s.useEffect)((function(){return window.addEventListener("scroll",o,!1),function(){window.removeEventListener("scroll",o,!1)}}),[]),{ref:n,isScrolled:c}}(-6),v=x.ref,j=x.isScrolled,p="".concat(d," ").concat(j&&f),C="".concat(_," ").concat(j&&f),g="".concat(h," ").concat(j&&f);return(0,o.jsxs)("div",{ref:v,className:"".concat(m.Z.container," ").concat(p),children:[(0,o.jsxs)("div",{className:C,children:[(0,o.jsx)("div",{children:(0,o.jsx)("input",{type:"text"})}),!!n&&(0,o.jsx)(l,{pageSize:t,currentPage:c,totalUsersCount:n,onPageChanged:function(e,n){u((0,r.D4)(e)),u((0,r.uh)({currentPage:e,pageSize:n}))}}),(0,o.jsx)(F,{})]}),(0,o.jsx)("div",{className:g,children:(0,o.jsxs)("span",{children:["All users: ",n]})}),(0,o.jsx)(P,{isScrolled:j})]})})))}}]);
//# sourceMappingURL=113.ff705e7f.chunk.js.map